<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/ITSMFT/common/reconstruction/src/Clusterer.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Clusterer.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;FairLogger.h&quot;</span> <span class="comment">// for LOG</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dba/SegmentationAlpide_8h.html">ITSMFTBase/SegmentationAlpide.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d04/ITSMFT_2common_2reconstruction_2include_2ITSMFTReconstruction_2Clusterer_8h.html">ITSMFTReconstruction/Clusterer.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d14/MCTruthContainer_8h.html">SimulationDataFormat/MCTruthContainer.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html">o2::itsmft</a>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx.html#a0704bba05ac76d5f6f3655221461b014">   21</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html">Segmentation</a> = <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html">o2::itsmft::SegmentationAlpide</a>;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a085bc70f54cf5e9e5bf6f19c8e6e3f1f">   24</a></span>&#160;<a class="code" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a085bc70f54cf5e9e5bf6f19c8e6e3f1f">Clusterer::Clusterer</a>() : mPattIdConverter(), mCurr(mColumn2 + 1), mPrev(mColumn1 + 1)</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  std::fill(<a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a27da508ea0cb1d37fd56a0a598317cde">std::begin</a>(mColumn1), <a class="code" href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">std::end</a>(mColumn1), -1);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  std::fill(<a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a27da508ea0cb1d37fd56a0a598317cde">std::begin</a>(mColumn2), <a class="code" href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">std::end</a>(mColumn2), -1);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a6ffc90b87f76e1a2c076c759cf25b21f">clear</a>();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifdef _ClusterTopology_</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;*********************************************************************&quot;</span>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;ATTENTION: YOU ARE RUNNING IN SPECIAL MODE OF STORING CLUSTER PATTERN&quot;</span>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;*********************************************************************&quot;</span>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#endif //_ClusterTopology_</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifdef _PERFORM_TIMING_</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  mTimer.Stop();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a453aba0ca9ec4a90f6f5b6a4354b5115">   41</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a453aba0ca9ec4a90f6f5b6a4354b5115">Clusterer::process</a>(<a class="code" href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html">PixelReader</a>&amp; reader, std::vector&lt;Cluster&gt;* fullClus,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                        std::vector&lt;CompClusterExt&gt;* compClus, <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">MCTruth</a>* labelsCl,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                        std::vector&lt;o2::itsmft::ROFRecord&gt;* vecROFRec)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef _PERFORM_TIMING_</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  mTimer.Start(kFALSE);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  mClustersCount = compClus ? compClus-&gt;size() : (fullClus ? fullClus-&gt;size() : 0);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">auto</span>&amp; currROFIR = mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#aebece10170be05f679dc74fe60e321ed">getBCData</a>();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">auto</span>&amp; currROFEntry = mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a55c3b7a44b7f8ccae9873b62b681b95e">getEntry</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">while</span> ((mChipData = reader.<a class="code" href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html#aae4eb1d02d5e73c9c74ae177a873c28d">getNextChipData</a>(mChips))) { <span class="comment">// read next chip data to corresponding</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// vector in the mChips and return the pointer on it</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (!(mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#aac28847156c2e20f9d193af41e19aec7">getInteractionRecord</a>() == currROFIR)) { <span class="comment">// new ROF starts</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a0179886dcacb47e03ce4343ee9df9c87">setNEntries</a>(mClustersCount - currROFEntry.getFirstEntry()); <span class="comment">// number of entries in this ROF</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keywordflow">if</span> (!currROFIR.isDummy()) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (mClusTree) { <span class="comment">// if necessary, flush existing data</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;ITS: clusterizing new ROFrame, Orbit :&quot;</span> &lt;&lt; mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#aac28847156c2e20f9d193af41e19aec7">getInteractionRecord</a>().<a class="code" href="../../d1/d21/structo2_1_1InteractionRecord.html#a2b9e5a5520c4d6dfd8d8df796b50291a">orbit</a></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; BC: &quot;</span> &lt;&lt; mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#aac28847156c2e20f9d193af41e19aec7">getInteractionRecord</a>().<a class="code" href="../../d1/d21/structo2_1_1InteractionRecord.html#a4dd7d03ed59d92173589ba61165873ab">bc</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;          mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a87428ed25bb0fbd62794c89b4a3016c5">setFirstEntry</a>(mClusTree-&gt;GetEntries());</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          flushClusters(fullClus, compClus, labelsCl);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">if</span> (vecROFRec) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;          vecROFRec-&gt;emplace_back(mROFRef);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      currROFEntry.setFirstEntry(mClustersCount);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      currROFIR = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#aac28847156c2e20f9d193af41e19aec7">getInteractionRecord</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#acff70b3c896d210339ae68d76d3049d4">setROFrame</a>(mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a9dd706bc8cb4273211200dd5d3e575c2">getROFrame</a>()); <span class="comment">// TODO: outphase this</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">auto</span> chipID = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// LOG(DEBUG) &lt;&lt; &quot;ITSClusterer got Chip &quot; &lt;&lt; chipID &lt;&lt; &quot; ROFrame &quot; &lt;&lt; mChipData-&gt;getROFrame()</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">//            &lt;&lt; &quot; Nhits &quot; &lt;&lt; mChipData-&gt;getData().size();</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (mMaxBCSeparationToMask &gt; 0) { <span class="comment">// mask pixels fired from the previous ROF</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keywordflow">if</span> (mChipsOld.size() &lt; mChips.size()) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        mChipsOld.resize(mChips.size()); <span class="comment">// expand buffer of previous ROF data</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; chipInPrevROF = mChipsOld[chipID];</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">if</span> (std::abs(currROFIR.differenceInBC(chipInPrevROF.getInteractionRecord())) &lt; mMaxBCSeparationToMask) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#afa0b344112e5c059b84ecdfb6b944f27">maskFiredInSample</a>(mChipsOld[chipID]);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">auto</span> validPixID = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a55728327f95b713be43fb32295c90bb1">getFirstUnmasked</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (validPixID &lt; mChipData-&gt;getData().<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>()) { <span class="comment">// chip data may have all of its pixels masked!</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      initChip(validPixID++);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">for</span> (; validPixID &lt; mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>().size(); validPixID++) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (!mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>()[validPixID].isMasked()) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          updateChip(validPixID);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      finishChip(fullClus, compClus, reader.<a class="code" href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html#af22a991854421fff6c84c0415f76d4b1">getDigitsMCTruth</a>(), labelsCl);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (mMaxBCSeparationToMask &gt; 0) { <span class="comment">// current chip data will be used in the next ROF to mask overflow pixels</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      mChipsOld[chipID].swap(*mChipData);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a0179886dcacb47e03ce4343ee9df9c87">setNEntries</a>(mClustersCount - currROFEntry.getFirstEntry()); <span class="comment">// number of entries in this ROF</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// flush last ROF</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> (!currROFIR.isDummy()) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (mClusTree) { <span class="comment">// if necessary, flush existing data</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a87428ed25bb0fbd62794c89b4a3016c5">setFirstEntry</a>(mClusTree-&gt;GetEntries());</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      flushClusters(fullClus, compClus, labelsCl);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (vecROFRec) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      vecROFRec-&gt;emplace_back(mROFRef); <span class="comment">// the ROFrecords vector is stored outside, in a single entry of the tree</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#ifdef _PERFORM_TIMING_</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  mTimer.Stop();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  printf(<span class="stringliteral">&quot;Clusterization timing (w/o disk IO): &quot;</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  mTimer.Print();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keywordtype">void</span> Clusterer::initChip(UInt_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a>)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// init chip with the 1st unmasked pixel (entry &quot;from&quot; in the mChipData)</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  mPrev = mColumn1 + 1;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  mCurr = mColumn2 + 1;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  resetColumn(mCurr);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  mPixels.clear();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  mPreClusterHeads.clear();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  mPreClusterIndices.clear();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">auto</span> pix = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>()[<a class="code" href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a>];</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  mCol = pix.getCol();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">//addNewPrecluster(first, pix.getRowDirect()); // save on .size() calls ?</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  mCurr[pix.getRowDirect()] = 0; <span class="comment">// can use getRowDirect since the pixel is not masked</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// start the first pre-cluster</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  mPreClusterHeads.push_back(0);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  mPreClusterIndices.push_back(0);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  mPixels.emplace_back(-1, first); <span class="comment">// id of current pixel</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  mNoLeftColumn = <span class="keyword">true</span>;            <span class="comment">// flag that there is no column on the left to check yet</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keywordtype">void</span> Clusterer::updateChip(UInt_t ip)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> pix = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>()[ip];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  UShort_t row = pix.getRowDirect(); <span class="comment">// can use getRowDirect since the pixel is not masked</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (mCol != pix.getCol()) {        <span class="comment">// switch the buffers</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    swapColumnBuffers();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    resetColumn(mCurr);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    mNoLeftColumn = <span class="keyword">false</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (pix.getCol() &gt; mCol + 1) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// no connection with previous column, this pixel cannot belong to any of the</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// existing preclusters, create a new precluster and flag to check only the row above for next pixels of this column</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      mCol = pix.getCol();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      addNewPrecluster(ip, row);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      mNoLeftColumn = <span class="keyword">true</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    mCol = pix.getCol();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  Bool_t orphan = <span class="keyword">true</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (mNoLeftColumn) { <span class="comment">// check only the row above</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (mCurr[row - 1] &gt;= 0) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      expandPreCluster(ip, row, mCurr[row - 1]); <span class="comment">// attach to the precluster of the previous row</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">int</span> neighbours[]{mCurr[row - 1], mPrev[row], mPrev[row + 1], mPrev[row - 1]};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pci : neighbours) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span> (pci &lt; 0) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span> (orphan) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        expandPreCluster(ip, row, pci); <span class="comment">// attach to the adjascent precluster</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        orphan = <span class="keyword">false</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// reassign precluster index to smallest one</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span> (mPreClusterIndices[pci] &lt; mPreClusterIndices[mCurr[row]]) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        mPreClusterIndices[mCurr[row]] = mPreClusterIndices[pci];</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        mPreClusterIndices[pci] = mPreClusterIndices[mCurr[row]];</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (orphan) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    addNewPrecluster(ip, row); <span class="comment">// start new precluster</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keywordtype">void</span> Clusterer::finishChip(std::vector&lt;Cluster&gt;* fullClus, std::vector&lt;CompClusterExt&gt;* compClus,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                           <span class="keyword">const</span> <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">MCTruth</a>* labelsDig, <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">MCTruth</a>* labelsClus)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  constexpr <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> SigmaX2 = <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">Segmentation::PitchRow</a> * <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">Segmentation::PitchRow</a> / 12.; <span class="comment">// FIXME</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  constexpr <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> SigmaY2 = <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">Segmentation::PitchCol</a> * <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">Segmentation::PitchCol</a> / 12.; <span class="comment">// FIXME</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pixData = mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1 = 0; i1 &lt; mPreClusterHeads.size(); ++i1) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> ci = mPreClusterIndices[i1];</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (ci &lt; 0) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    UShort_t rowMax = 0, rowMin = 65535;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    UShort_t colMax = 0, colMin = 65535;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">int</span> nlab = 0, npix = 0;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">int</span> next = mPreClusterHeads[i1];</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">while</span> (next &gt;= 0) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pixEntry = mPixels[next];</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> pix = pixData[pixEntry.second];</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">if</span> (npix &lt; mPixArrBuff.size()) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        mPixArrBuff[npix++] = pix; <span class="comment">// needed for cluster topology</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        adjustBoundingBox(pix, rowMin, rowMax, colMin, colMax);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (labelsClus) { <span class="comment">// the MCtruth for this pixel is at mChipData-&gt;startID+pixEntry.second</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          fetchMCLabels(pixEntry.second + mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a248b9494a1b47e27f98c9ff1da5a3a95">getStartID</a>(), labelsDig, nlab);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        next = pixEntry.first;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Cluster size &quot;</span> &lt;&lt; npix + 1 &lt;&lt; <span class="stringliteral">&quot; exceeds the buffer size&quot;</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    mPreClusterIndices[i1] = -1;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2 = i1 + 1; i2 &lt; mPreClusterHeads.size(); ++i2) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">if</span> (mPreClusterIndices[i2] != ci) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      next = mPreClusterHeads[i2];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">while</span> (next &gt;= 0) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pixEntry = mPixels[next];</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> pix = pixData[pixEntry.second]; <span class="comment">// PixelData</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (npix &lt; mPixArrBuff.size()) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          mPixArrBuff[npix++] = pix; <span class="comment">// needed for cluster topology</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          adjustBoundingBox(pix, rowMin, rowMax, colMin, colMax);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <span class="keywordflow">if</span> (labelsClus) { <span class="comment">// the MCtruth for this pixel is at mChipData-&gt;startID+pixEntry.second</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            fetchMCLabels(pixEntry.second + mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a248b9494a1b47e27f98c9ff1da5a3a95">getStartID</a>(), labelsDig, nlab);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          next = pixEntry.first;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Cluster size &quot;</span> &lt;&lt; npix + 1 &lt;&lt; <span class="stringliteral">&quot; exceeds the buffer size&quot;</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      mPreClusterIndices[i2] = -1;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    UShort_t rowSpan = rowMax - rowMin + 1, colSpan = colMax - colMin + 1;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html">Cluster</a> clus;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    clus.<a class="code" href="../../da/d30/classo2_1_1BaseCluster.html#a9080994746f237e512b944403f028114">setSensorID</a>(mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a5c9b38aa4259414cec81a65d0181638c">setNxNzN</a>(rowSpan, colSpan, npix);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#ifdef _ClusterTopology_</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    UShort_t colSpanW = colSpan, rowSpanW = rowSpan;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (colSpan * rowSpan &gt; <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">Cluster::kMaxPatternBits</a>) { <span class="comment">// need to store partial info</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="comment">// will curtail largest dimension</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">if</span> (colSpan &gt; rowSpan) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> ((colSpanW = <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">Cluster::kMaxPatternBits</a> / rowSpan) == 0) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          colSpanW = 1;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          rowSpanW = <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">Cluster::kMaxPatternBits</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> ((rowSpanW = <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">Cluster::kMaxPatternBits</a> / colSpan) == 0) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          rowSpanW = 1;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          colSpanW = <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">Cluster::kMaxPatternBits</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a328648d7eaa20382e1e3ad32b2c54fcf">setPatternRowSpan</a>(rowSpanW, rowSpanW &lt; rowSpan);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aba6b10d5fe804f9f58c519dba9923914">setPatternColSpan</a>(colSpanW, colSpanW &lt; colSpan);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#ae00b7af9a9f2a6e9b7ad88639e2e8430">setPatternRowMin</a>(rowMin);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a7092a846abc830f9b04974ffa22b02af">setPatternColMin</a>(colMin);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; npix; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> pix = mPixArrBuff[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ir = pix.getRowDirect() - rowMin, ic = pix.getCol() - colMin;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">if</span> (ir &lt; rowSpanW &amp;&amp; ic &lt; colSpanW) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a543d04cf99f69baddde9ee74c2309e03">setPixel</a>(ir, ic);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#endif              //_ClusterTopology_</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (fullClus) { <span class="comment">// do we need conventional clusters with full topology and coordinates?</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      fullClus-&gt;push_back(clus);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html">Cluster</a>&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#af50954f6efd5209b2328d33cd185f87e">c</a> = fullClus-&gt;back();</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 0., <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> = 0.;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = npix; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        x += mPixArrBuff[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].getRowDirect();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> += mPixArrBuff[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].getCol();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="../../d5/daf/classROOT_1_1Math_1_1PositionVector3D.html">Point3D&lt;float&gt;</a> xyzLoc;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a29218865dd5debbd8c7631f3fa5c7ba9">Segmentation::detectorToLocalUnchecked</a>(x / npix, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> / npix, xyzLoc);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keyword">auto</span> xyzTra = mGeometry-&gt;<a class="code" href="../../df/d06/classo2_1_1detectors_1_1DetMatrixCache.html#a9f7bbe769b145aff3d7acff3e27abe55">getMatrixT2L</a>(mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>()) ^ (xyzLoc); <span class="comment">// inverse transform from Local to Tracking frame</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      c.<a class="code" href="../../da/d30/classo2_1_1BaseCluster.html#afff6db4c42191c3b24237b95e39ad5f5">setPos</a>(xyzTra);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      c.<a class="code" href="../../da/d30/classo2_1_1BaseCluster.html#af53ffcef33b7395612c7b98a564b9599">setErrors</a>(SigmaX2, SigmaY2, 0.<a class="code" href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (compClus) { <span class="comment">// store compact clusters</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> patt[<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5a11a5bcb7e843e3bdbaee54f3c8dbb2e8">Cluster::kMaxPatternBytes</a>];</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a82fa7416904d168b2b3db3804f48bda1">getPattern</a>(&amp;patt[0], <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5a11a5bcb7e843e3bdbaee54f3c8dbb2e8">Cluster::kMaxPatternBytes</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      UShort_t pattID = mPattIdConverter.<a class="code" href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#ad6bd9aa705ef32f72eab18056e427cf3">findGroupID</a>(clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aff79149f8b468f8b1c79f6467f685844">getPatternRowSpan</a>(), clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aefefeacbf8d0a5cc37d63c1dfb31023e">getPatternColSpan</a>(), patt);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (mPattIdConverter.<a class="code" href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#abe821a2fdba5dad65d0f78ca7f9bc508">IsGroup</a>(pattID)) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordtype">int</span> rowShift = 0, colShift = 0;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a59ce1c06e7a77dbbb375e00fe25e6019">ClusterTopology::getCOGshift</a>(clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aff79149f8b468f8b1c79f6467f685844">getPatternRowSpan</a>(), clus.<a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aefefeacbf8d0a5cc37d63c1dfb31023e">getPatternColSpan</a>(), patt, rowShift, colShift);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        rowMin += rowShift;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        colMin += colShift;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      compClus-&gt;emplace_back(rowMin, colMin, pattID, mChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>());</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (labelsClus) { <span class="comment">// MC labels were requested</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = nlab; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        labelsClus-&gt;<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a137eaa0a311f5981b6586fb67097708a">addElement</a>(mClustersCount, mLabelsBuff[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    mClustersCount++;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keywordtype">void</span> Clusterer::fetchMCLabels(<span class="keywordtype">int</span> digID, <span class="keyword">const</span> <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">MCTruth</a>* labelsDig, <span class="keywordtype">int</span>&amp; nfilled)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// transfer MC labels to cluster</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (nfilled &gt;= <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#ad56766dcb3597a2e1c70ce771567533f">Cluster::maxLabels</a>) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; lbls = labelsDig-&gt;<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#ad73861e2e0ed9bc797ac4d9b0813e968">getLabels</a>(digID);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = lbls.size(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">int</span> ic = nfilled;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span> (; ic--;) { <span class="comment">// check if the label is already present</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">if</span> (mLabelsBuff[ic] == lbls[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// label is found, do nothing</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    mLabelsBuff[nfilled++] = lbls[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (nfilled &gt;= <a class="code" href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#ad56766dcb3597a2e1c70ce771567533f">Cluster::maxLabels</a>) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a52dfd7f756fe091826c8af7bc8d4ce82">  346</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a52dfd7f756fe091826c8af7bc8d4ce82">Clusterer::clear</a>()</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// reset</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  mChipData = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  mClusTree = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  mROFRef.<a class="code" href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a6ffc90b87f76e1a2c076c759cf25b21f">clear</a>();</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  mTimer.Stop();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  mTimer.Reset();</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">//__________________________________________________</span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a53749a07b680bb547763c990faf5cac3">  357</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a53749a07b680bb547763c990faf5cac3">Clusterer::print</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// print settings</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  printf(<span class="stringliteral">&quot;Mask overflow pixels in strobes separated by &lt; %d BCs\n&quot;</span>, mMaxBCSeparationToMask);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a248b9494a1b47e27f98c9ff1da5a3a95"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a248b9494a1b47e27f98c9ff1da5a3a95">o2::itsmft::ChipPixelData::getStartID</a></div><div class="ttdeci">uint32_t getStartID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00097">PixelData.h:97</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1LookUp_html_ad6bd9aa705ef32f72eab18056e427cf3"><div class="ttname"><a href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#ad6bd9aa705ef32f72eab18056e427cf3">o2::itsmft::LookUp::findGroupID</a></div><div class="ttdeci">int findGroupID(int nRow, int nCol, const unsigned char patt[Cluster::kMaxPatternBytes])</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd5/LookUp_8cxx_source.html#l00057">LookUp.cxx:57</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_aba6b10d5fe804f9f58c519dba9923914"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aba6b10d5fe804f9f58c519dba9923914">o2::itsmft::Cluster::setPatternColSpan</a></div><div class="ttdeci">void setPatternColSpan(UShort_t nc, bool truncated)</div><div class="ttdoc">fire the pixel in the pattern, no check for the overflow, must be done in advance! ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00119">Cluster.h:119</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a63df202498bbd53ffe4e22227effe5a0"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a></div><div class="ttdeci">GLint first</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PixelReader_html_af22a991854421fff6c84c0415f76d4b1"><div class="ttname"><a href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html#af22a991854421fff6c84c0415f76d4b1">o2::itsmft::PixelReader::getDigitsMCTruth</a></div><div class="ttdeci">virtual const o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt; * getDigitsMCTruth() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/PixelReader_8h_source.html#l00045">PixelReader.h:45</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html_a27da508ea0cb1d37fd56a0a598317cde"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html#a27da508ea0cb1d37fd56a0a598317cde">o2::tpc::begin</a></div><div class="ttdeci">Enum&lt; T &gt;::Iterator begin(Enum&lt; T &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d73/Defs_8h_source.html#l00125">Defs.h:125</a></div></div>
<div class="ttc" id="classo2_1_1BaseCluster_html_a9080994746f237e512b944403f028114"><div class="ttname"><a href="../../da/d30/classo2_1_1BaseCluster.html#a9080994746f237e512b944403f028114">o2::BaseCluster::setSensorID</a></div><div class="ttdeci">void setSensorID(std::int16_t sid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/BaseCluster_8h_source.html#l00087">BaseCluster.h:87</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_a6ffc90b87f76e1a2c076c759cf25b21f"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a6ffc90b87f76e1a2c076c759cf25b21f">o2::itsmft::ROFRecord::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00054">ROFRecord.h:54</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_a328648d7eaa20382e1e3ad32b2c54fcf"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a328648d7eaa20382e1e3ad32b2c54fcf">o2::itsmft::Cluster::setPatternRowSpan</a></div><div class="ttdeci">void setPatternRowSpan(UShort_t nr, bool truncated)</div><div class="ttdoc">set pattern span in columns, flag if truncated </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00110">Cluster.h:110</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_afa0b344112e5c059b84ecdfb6b944f27"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#afa0b344112e5c059b84ecdfb6b944f27">o2::itsmft::ChipPixelData::maskFiredInSample</a></div><div class="ttdeci">void maskFiredInSample(const ChipPixelData &amp;sample)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00133">PixelData.h:133</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_ae43a0749482b17ca98f396d699e9d777"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">o2::itsmft::ChipPixelData::getChipID</a></div><div class="ttdeci">uint16_t getChipID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00095">PixelData.h:95</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aee38b51639b577753f6a92029fb92000"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a></div><div class="ttdeci">GLdouble GLdouble GLdouble z</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00843">glcorearb.h:843</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_a82fa7416904d168b2b3db3804f48bda1"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a82fa7416904d168b2b3db3804f48bda1">o2::itsmft::Cluster::getPattern</a></div><div class="ttdeci">void getPattern(void *destination, int nbytes) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00105">Cluster.h:105</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00025">GPUCommonLogger.h:25</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Clusterer_html_a085bc70f54cf5e9e5bf6f19c8e6e3f1f"><div class="ttname"><a href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a085bc70f54cf5e9e5bf6f19c8e6e3f1f">o2::itsmft::Clusterer::Clusterer</a></div><div class="ttdeci">Clusterer()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx_source.html#l00024">Clusterer.cxx:24</a></div></div>
<div class="ttc" id="classROOT_1_1Math_1_1PositionVector3D_html"><div class="ttname"><a href="../../d5/daf/classROOT_1_1Math_1_1PositionVector3D.html">ROOT::Math::PositionVector3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8b/DataFormats_2Reconstruction_2include_2ReconstructionDataFormats_2Track_8h_source.html#l00050">Track.h:50</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_ad56766dcb3597a2e1c70ce771567533f"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#ad56766dcb3597a2e1c70ce771567533f">o2::itsmft::Cluster::maxLabels</a></div><div class="ttdeci">static constexpr int maxLabels</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00062">Cluster.h:62</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1LookUp_html_abe821a2fdba5dad65d0f78ca7f9bc508"><div class="ttname"><a href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#abe821a2fdba5dad65d0f78ca7f9bc508">o2::itsmft::LookUp::IsGroup</a></div><div class="ttdeci">bool IsGroup(int id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd5/LookUp_8cxx_source.html#l00081">LookUp.cxx:81</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html">o2::itsmft::Cluster</a></div><div class="ttdoc">Cluster class for the ITSMFT. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00032">Cluster.h:32</a></div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_a543d04cf99f69baddde9ee74c2309e03"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a543d04cf99f69baddde9ee74c2309e03">o2::itsmft::Cluster::setPixel</a></div><div class="ttdeci">void setPixel(UShort_t row, UShort_t col)</div><div class="ttdoc">fire the pixel in the pattern, no check for the overflow, must be done in advance! ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00128">Cluster.h:128</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Clusterer_html_a52dfd7f756fe091826c8af7bc8d4ce82"><div class="ttname"><a href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a52dfd7f756fe091826c8af7bc8d4ce82">o2::itsmft::Clusterer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx_source.html#l00346">Clusterer.cxx:346</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_a55c3b7a44b7f8ccae9873b62b681b95e"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a55c3b7a44b7f8ccae9873b62b681b95e">o2::itsmft::ROFRecord::getEntry</a></div><div class="ttdeci">EvIdx getEntry() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00048">ROFRecord.h:48</a></div></div>
<div class="ttc" id="SegmentationAlpide_8h_html"><div class="ttname"><a href="../../d3/dba/SegmentationAlpide_8h.html">SegmentationAlpide.h</a></div><div class="ttdoc">Definition of the SegmentationAlpide class. </div></div>
<div class="ttc" id="classo2_1_1detectors_1_1DetMatrixCache_html_a9f7bbe769b145aff3d7acff3e27abe55"><div class="ttname"><a href="../../df/d06/classo2_1_1detectors_1_1DetMatrixCache.html#a9f7bbe769b145aff3d7acff3e27abe55">o2::detectors::DetMatrixCache::getMatrixT2L</a></div><div class="ttdeci">const Mat3D &amp; getMatrixT2L(int sensID) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d20/DetMatrixCache_8h_source.html#l00091">DetMatrixCache.h:91</a></div></div>
<div class="ttc" id="structo2_1_1InteractionRecord_html_a2b9e5a5520c4d6dfd8d8df796b50291a"><div class="ttname"><a href="../../d1/d21/structo2_1_1InteractionRecord.html#a2b9e5a5520c4d6dfd8d8df796b50291a">o2::InteractionRecord::orbit</a></div><div class="ttdeci">uint32_t orbit</div><div class="ttdoc">LHC orbit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d80/InteractionRecord_8h_source.html#l00031">InteractionRecord.h:31</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PixelReader_html"><div class="ttname"><a href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html">o2::itsmft::PixelReader</a></div><div class="ttdoc">PixelReader class for the ITSMFT. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/PixelReader_8h_source.html#l00032">PixelReader.h:32</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_ae00b7af9a9f2a6e9b7ad88639e2e8430"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#ae00b7af9a9f2a6e9b7ad88639e2e8430">o2::itsmft::Cluster::setPatternRowMin</a></div><div class="ttdeci">void setPatternRowMin(UShort_t row)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00103">Cluster.h:103</a></div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html">o2::itsmft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00025">Cluster.h:25</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_a0179886dcacb47e03ce4343ee9df9c87"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a0179886dcacb47e03ce4343ee9df9c87">o2::itsmft::ROFRecord::setNEntries</a></div><div class="ttdeci">void setNEntries(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00044">ROFRecord.h:44</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_a5c9b38aa4259414cec81a65d0181638c"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a5c9b38aa4259414cec81a65d0181638c">o2::itsmft::Cluster::setNxNzN</a></div><div class="ttdeci">void setNxNzN(UChar_t nx, UChar_t nz, UShort_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00074">Cluster.h:74</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a6a8efad2e332fcd916bde9e19ddef215"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a></div><div class="ttdeci">GLdouble f</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00310">glcorearb.h:310</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a432111147038972f06e049e18a837002"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">end</a></div><div class="ttdeci">GLuint GLuint end</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00469">glcorearb.h:469</a></div></div>
<div class="ttc" id="classo2_1_1BaseCluster_html_afff6db4c42191c3b24237b95e39ad5f5"><div class="ttname"><a href="../../da/d30/classo2_1_1BaseCluster.html#afff6db4c42191c3b24237b95e39ad5f5">o2::BaseCluster::setPos</a></div><div class="ttdeci">void setPos(const Point3D&lt; T &gt; &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/BaseCluster_8h_source.html#l00104">BaseCluster.h:104</a></div></div>
<div class="ttc" id="classFloat__t_html"><div class="ttname"><a href="../../d9/d7d/classFloat__t.html">Float_t</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a71425c94d3ac41f62430dec4fbc4bb0b"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">o2::itsmft::ChipPixelData::getData</a></div><div class="ttdeci">const std::vector&lt; PixelData &gt; &amp; getData() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00102">PixelData.h:102</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a59ce1c06e7a77dbbb375e00fe25e6019"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a59ce1c06e7a77dbbb375e00fe25e6019">o2::itsmft::ClusterTopology::getCOGshift</a></div><div class="ttdeci">static void getCOGshift(int nRow, int nCol, const unsigned char patt[Cluster::kMaxPatternBytes], int &amp;rowShift, int &amp;colShift)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d49/ClusterTopology_8cxx_source.html#l00147">ClusterTopology.cxx:147</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html_a36000cdf3c95c75e6bb50d7377173c02"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">o2::itsmft::SegmentationAlpide::PitchCol</a></div><div class="ttdeci">static constexpr float PitchCol</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00037">SegmentationAlpide.h:37</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html_a137eaa0a311f5981b6586fb67097708a"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a137eaa0a311f5981b6586fb67097708a">o2::dataformats::MCTruthContainer::addElement</a></div><div class="ttdeci">void addElement(uint dataindex, TruthElement const &amp;element)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d14/MCTruthContainer_8h_source.html#l00165">MCTruthContainer.h:165</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html_a29218865dd5debbd8c7631f3fa5c7ba9"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a29218865dd5debbd8c7631f3fa5c7ba9">o2::itsmft::SegmentationAlpide::detectorToLocalUnchecked</a></div><div class="ttdeci">static void detectorToLocalUnchecked(int iRow, int iCol, float &amp;xRow, float &amp;zCol)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00129">SegmentationAlpide.h:129</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt;</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a55728327f95b713be43fb32295c90bb1"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a55728327f95b713be43fb32295c90bb1">o2::itsmft::ChipPixelData::getFirstUnmasked</a></div><div class="ttdeci">uint32_t getFirstUnmasked() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00098">PixelData.h:98</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html">o2::itsmft::SegmentationAlpide</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00031">SegmentationAlpide.h:31</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_a87428ed25bb0fbd62794c89b4a3016c5"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#a87428ed25bb0fbd62794c89b4a3016c5">o2::itsmft::ROFRecord::setFirstEntry</a></div><div class="ttdeci">void setFirstEntry(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00043">ROFRecord.h:43</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Clusterer_html_a453aba0ca9ec4a90f6f5b6a4354b5115"><div class="ttname"><a href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a453aba0ca9ec4a90f6f5b6a4354b5115">o2::itsmft::Clusterer::process</a></div><div class="ttdeci">void process(PixelReader &amp;r, std::vector&lt; Cluster &gt; *fullClus, std::vector&lt; CompClusterExt &gt; *compClus, MCTruth *labelsCl=nullptr, std::vector&lt; o2::itsmft::ROFRecord &gt; *vecROFRec=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx_source.html#l00041">Clusterer.cxx:41</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_af50954f6efd5209b2328d33cd185f87e"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#af50954f6efd5209b2328d33cd185f87e">c</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char Store histograms in output root Do not run but just create PDFs from input root files Set cut for Q Compute the efficiency including impure tracks with fake contamination Maxmimum Create resolution histograms in the native fit Filter for Filter for Particle Store mc labels to file for later matching Minimum Pt of a matched track to be displayed Compare QA QAonly Event generator settings h Reconstruction settings Enable TRD processing Enable TPC Compression Mask to disable certain attachment steps during refit Pt threshold to reject clusters of TPC tracks Sort order of TPC Force early TPC transformation also for continuous Forward TPC digits as h Processing settings Run tracklet constructor in pipeline Bitmask for RecoSteps h configStandalone c</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00099">qconfigoptions.h:99</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0cdec8e97a75ee9458b23d152bf962d4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00403">glcorearb.h:403</a></div></div>
<div class="ttc" id="MCTruthContainer_8h_html"><div class="ttname"><a href="../../db/d14/MCTruthContainer_8h.html">MCTruthContainer.h</a></div><div class="ttdoc">Definition of a container to keep Monte Carlo truth external to simulation objects. </div></div>
<div class="ttc" id="ITSMFT_2common_2reconstruction_2include_2ITSMFTReconstruction_2Clusterer_8h_html"><div class="ttname"><a href="../../d6/d04/ITSMFT_2common_2reconstruction_2include_2ITSMFTReconstruction_2Clusterer_8h.html">Clusterer.h</a></div></div>
<div class="ttc" id="classo2_1_1BaseCluster_html_af53ffcef33b7395612c7b98a564b9599"><div class="ttname"><a href="../../da/d30/classo2_1_1BaseCluster.html#af53ffcef33b7395612c7b98a564b9599">o2::BaseCluster::setErrors</a></div><div class="ttdeci">void setErrors(T sy2, T sz2, T syz)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de2/BaseCluster_8h_source.html#l00108">BaseCluster.h:108</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_acff70b3c896d210339ae68d76d3049d4"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#acff70b3c896d210339ae68d76d3049d4">o2::itsmft::ROFRecord::setROFrame</a></div><div class="ttdeci">void setROFrame(ROFtype rof)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00041">ROFRecord.h:41</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_aac28847156c2e20f9d193af41e19aec7"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#aac28847156c2e20f9d193af41e19aec7">o2::itsmft::ChipPixelData::getInteractionRecord</a></div><div class="ttdeci">const o2::InteractionRecord &amp; getInteractionRecord() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00100">PixelData.h:100</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_a7092a846abc830f9b04974ffa22b02af"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#a7092a846abc830f9b04974ffa22b02af">o2::itsmft::Cluster::setPatternColMin</a></div><div class="ttdeci">void setPatternColMin(UShort_t col)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00104">Cluster.h:104</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00306">GPUCommonAlgorithm.h:306</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Clusterer_html_a53749a07b680bb547763c990faf5cac3"><div class="ttname"><a href="../../d5/db8/classo2_1_1itsmft_1_1Clusterer.html#a53749a07b680bb547763c990faf5cac3">o2::itsmft::Clusterer::print</a></div><div class="ttdeci">void print() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx_source.html#l00357">Clusterer.cxx:357</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html_ad73861e2e0ed9bc797ac4d9b0813e968"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#ad73861e2e0ed9bc797ac4d9b0813e968">o2::dataformats::MCTruthContainer::getLabels</a></div><div class="ttdeci">gsl::span&lt; TruthElement &gt; getLabels(uint dataindex)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d14/MCTruthContainer_8h_source.html#l00139">MCTruthContainer.h:139</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_adc2c3149062d767679d93a149d1bb5d5a11a5bcb7e843e3bdbaee54f3c8dbb2e8"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5a11a5bcb7e843e3bdbaee54f3c8dbb2e8">o2::itsmft::Cluster::kMaxPatternBytes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00054">Cluster.h:54</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a9dd706bc8cb4273211200dd5d3e575c2"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a9dd706bc8cb4273211200dd5d3e575c2">o2::itsmft::ChipPixelData::getROFrame</a></div><div class="ttdeci">uint32_t getROFrame() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00096">PixelData.h:96</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_aefefeacbf8d0a5cc37d63c1dfb31023e"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aefefeacbf8d0a5cc37d63c1dfb31023e">o2::itsmft::Cluster::getPatternColSpan</a></div><div class="ttdeci">int getPatternColSpan() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00099">Cluster.h:99</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ROFRecord_html_aebece10170be05f679dc74fe60e321ed"><div class="ttname"><a href="../../d0/d3f/classo2_1_1itsmft_1_1ROFRecord.html#aebece10170be05f679dc74fe60e321ed">o2::itsmft::ROFRecord::getBCData</a></div><div class="ttdeci">const BCData &amp; getBCData() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc6/ITSMFT_2common_2include_2DataFormatsITSMFT_2ROFRecord_8h_source.html#l00046">ROFRecord.h:46</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html_ace27e55969c98c0db6eb777526c9eafe"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">o2::itsmft::SegmentationAlpide::PitchRow</a></div><div class="ttdeci">static constexpr float PitchRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00038">SegmentationAlpide.h:38</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#adc2c3149062d767679d93a149d1bb5d5ac258030a4486db634a799f07692bd5ad">o2::itsmft::Cluster::kMaxPatternBits</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00053">Cluster.h:53</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1Cluster_html_aff79149f8b468f8b1c79f6467f685844"><div class="ttname"><a href="../../d0/dea/classo2_1_1itsmft_1_1Cluster.html#aff79149f8b468f8b1c79f6467f685844">o2::itsmft::Cluster::getPatternRowSpan</a></div><div class="ttdeci">int getPatternRowSpan() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00098">Cluster.h:98</a></div></div>
<div class="ttc" id="structo2_1_1InteractionRecord_html_a4dd7d03ed59d92173589ba61165873ab"><div class="ttname"><a href="../../d1/d21/structo2_1_1InteractionRecord.html#a4dd7d03ed59d92173589ba61165873ab">o2::InteractionRecord::bc</a></div><div class="ttdeci">uint16_t bc</div><div class="ttdoc">bunch crossing ID of interaction </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d80/InteractionRecord_8h_source.html#l00030">InteractionRecord.h:30</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PixelReader_html_aae4eb1d02d5e73c9c74ae177a873c28d"><div class="ttname"><a href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html#aae4eb1d02d5e73c9c74ae177a873c28d">o2::itsmft::PixelReader::getNextChipData</a></div><div class="ttdeci">virtual bool getNextChipData(ChipPixelData &amp;chipData)=0</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_1306292b77b40360479b729ac9ee7efe.html">ITSMFT</a></li><li class="navelem"><a class="el" href="../../dir_85bf31a2e8d306e7598ffcb73f8df6bf.html">common</a></li><li class="navelem"><a class="el" href="../../dir_2174d8cbbd82d5c404dd04814f845a3a.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_2382d22bdf51ce6783d3a58c2cee3de2.html">src</a></li><li class="navelem"><a class="el" href="../../de/d69/ITSMFT_2common_2reconstruction_2src_2Clusterer_8cxx.html">Clusterer.cxx</a></li>
    <li class="footer">Generated on Wed Feb 19 2020 20:08:16 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
