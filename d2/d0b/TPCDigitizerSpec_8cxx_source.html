<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Steer/DigitizerWorkflow/src/TPCDigitizerSpec.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d0b/TPCDigitizerSpec_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TPCDigitizerSpec.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d0b/TPCDigitizerSpec_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/db0/TPCDigitizerSpec_8h.html">TPCDigitizerSpec.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d43/ControlService_8h.html">Framework/ControlService.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dc6/ConfigParamRegistry_8h.html">Framework/ConfigParamRegistry.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/df4/DataProcessorSpec_8h.html">Framework/DataProcessorSpec.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/db8/DataRefUtils_8h.html">Framework/DataRefUtils.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dca/Lifetime_8h.html">Framework/Lifetime.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dcd/DataHeader_8h.html">Headers/DataHeader.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;TStopwatch.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d40/HitProcessingManager_8h.html">Steer/HitProcessingManager.h</a>&quot;</span> <span class="comment">// for RunContext</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;TChain.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;TSystem.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d7/dcd/MCCompLabel_8h.html">SimulationDataFormat/MCCompLabel.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../db/d14/MCTruthContainer_8h.html">SimulationDataFormat/MCTruthContainer.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d4f/Task_8h.html">Framework/Task.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d28/GRPObject_8h.html">DataFormatsParameters/GRPObject.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d09/TPCSectorHeader_8h.html">DataFormatsTPC/TPCSectorHeader.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/df2/CDBInterface_8h.html">TPCBase/CDBInterface.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d4f/Detectors_2TPC_2base_2include_2TPCBase_2Digit_8h.html">TPCBase/Digit.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d92/TPC_2simulation_2include_2TPCSimulation_2Digitizer_8h.html">TPCSimulation/Digitizer.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d96/TPC_2simulation_2include_2TPCSimulation_2Detector_8h.html">TPCSimulation/Detector.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dcc/Detectors_2Base_2include_2DetectorsBase_2GeometryManager_8h.html">DetectorsBase/GeometryManager.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d64/RangeReference_8h.html">CommonDataFormat/RangeReference.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d45/SAMPAProcessing_8h.html">TPCSimulation/SAMPAProcessing.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html">o2::framework</a>;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">   36</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a> = <a class="code" href="../../df/d82/classo2_1_1framework_1_1DataAllocator.html#a3fb0829704eb7ab36d02de3758893b1d">o2::framework::DataAllocator::SubSpecificationType</a>;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a9abfc001d505e936eda6192e50e64ad5">   37</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../d7/dc7/classo2_1_1dataformats_1_1RangeReference.html">DigiGroupRef</a> = <a class="code" href="../../d7/dc7/classo2_1_1dataformats_1_1RangeReference.html">o2::dataformats::RangeReference&lt;int, int&gt;</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// helper function which will be offered as a service</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a1d3ff0533890f03f146d04059dc2d11f">   41</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a1d3ff0533890f03f146d04059dc2d11f">retrieveHits</a>(std::vector&lt;TChain*&gt; <span class="keyword">const</span>&amp; chains,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span>* brname,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                  <span class="keywordtype">int</span> sourceID,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                  <span class="keywordtype">int</span> entryID,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                  std::vector&lt;T&gt;* hits)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keyword">auto</span> br = chains[sourceID]-&gt;GetBranch(brname);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">if</span> (!br) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;TPC: No branch found&quot;</span>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  br-&gt;SetAddress(&amp;hits);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  br-&gt;GetEntry(entryID);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">namespace </span>tpc</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d0/d0a/namespaceo2_1_1tpc.html#a6683b3d744b4b8fff0b7c8c75259b615">   61</a></span>&#160;std::string <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a6683b3d744b4b8fff0b7c8c75259b615">getBranchNameLeft</a>(<span class="keywordtype">int</span> sector)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  std::stringstream branchnamestreamleft;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  branchnamestreamleft &lt;&lt; <span class="stringliteral">&quot;TPCHitsShiftedSector&quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2779e279debfae608c7e004d334f4f22">int</a>(<a class="code" href="../../d0/d0c/classo2_1_1tpc_1_1Sector.html#a7e0036fd8490232f681345e0fcde543f">o2::tpc::Sector::getLeft</a>(<a class="code" href="../../d0/d0c/classo2_1_1tpc_1_1Sector.html">o2::tpc::Sector</a>(sector)));</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> branchnamestreamleft.str();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d0/d0a/namespaceo2_1_1tpc.html#ae5d048143e23fdcbaa10d950595b6f84">   68</a></span>&#160;std::string <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#ae5d048143e23fdcbaa10d950595b6f84">getBranchNameRight</a>(<span class="keywordtype">int</span> sector)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  std::stringstream branchnamestreamright;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  branchnamestreamright &lt;&lt; <span class="stringliteral">&quot;TPCHitsShiftedSector&quot;</span> &lt;&lt; sector;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">return</span> branchnamestreamright.str();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html">   75</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html">TPCDPLDigitizerTask</a></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a0d7b0a728c50913f6530517b87ae1763">   78</a></span>&#160;  <a class="code" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a0d7b0a728c50913f6530517b87ae1763">TPCDPLDigitizerTask</a>(<span class="keywordtype">int</span> channel, <span class="keywordtype">bool</span> writeGRP)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    mChannel = channel;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    mWriteGRP = writeGRP;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  };</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a14136aacb47f7ac3a31386b6c4636cce">   84</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a14136aacb47f7ac3a31386b6c4636cce">init</a>(<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html">framework::InitContext</a>&amp; ic)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Initializing TPC digitization&quot;</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">auto</span> useDistortions = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;distortionType&quot;</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">auto</span> triggeredMode = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;TPCtriggered&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (useDistortions &gt; 0) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">if</span> (useDistortions == 1) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Using realistic space-charge distortions.&quot;</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Using constant space-charge distortions.&quot;</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keyword">auto</span> readSpaceChargeString = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;readSpaceCharge&quot;</span>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      std::vector&lt;std::string&gt; readSpaceCharge;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      std::stringstream ssSpaceCharge(readSpaceChargeString);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">while</span> (ssSpaceCharge.good()) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        std::string substr;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        getline(ssSpaceCharge, substr, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        readSpaceCharge.push_back(substr);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">if</span> (readSpaceCharge[0].<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>() != 0) { <span class="comment">// use pre-calculated space-charge object</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        std::unique_ptr&lt;o2::tpc::SpaceCharge&gt; spaceCharge;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span> (!gSystem-&gt;AccessPathName(readSpaceCharge[0].data())) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          <span class="keyword">auto</span> fileSC = std::unique_ptr&lt;TFile&gt;(TFile::Open(readSpaceCharge[0].<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>()));</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          <span class="keywordflow">if</span> (fileSC-&gt;FindKey(readSpaceCharge[1].data())) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            spaceCharge.reset((<a class="code" href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html">o2::tpc::SpaceCharge</a>*)fileSC-&gt;Get(readSpaceCharge[1].data()));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> (spaceCharge.get() != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Using pre-calculated space-charge object: &quot;</span> &lt;&lt; readSpaceCharge[1].data();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          mDigitizer.setUseSCDistortions(spaceCharge.release());</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Space-charge object or file not found!&quot;</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// create new space-charge object either with empty TPC or an initial space-charge density provided by histogram</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7">o2::tpc::SpaceCharge::SCDistortionType</a> distortionType = useDistortions == 2 ? <a class="code" href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7a0c0eb000e9bb546664a1fe33ea9e0c27">o2::tpc::SpaceCharge::SCDistortionType::SCDistortionsConstant</a> : <a class="code" href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7afb50c73ec5e9bbfc5a5c6543840b8d0d">o2::tpc::SpaceCharge::SCDistortionType::SCDistortionsRealistic</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keyword">auto</span> gridSizeString = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;gridSize&quot;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        std::vector&lt;int&gt; gridSize;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        std::stringstream ss(gridSizeString);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">while</span> (ss.good()) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          std::string substr;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;          getline(ss, substr, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;          gridSize.push_back(std::stoi(substr));</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">auto</span> inputHistoString = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;initialSpaceChargeDensity&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        std::vector&lt;std::string&gt; inputHisto;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        std::stringstream ssHisto(inputHistoString);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">while</span> (ssHisto.good()) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;          std::string substr;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;          getline(ssHisto, substr, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;          inputHisto.push_back(substr);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        std::unique_ptr&lt;TH3&gt; hisSCDensity;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (!gSystem-&gt;AccessPathName(inputHisto[0].data())) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          <span class="keyword">auto</span> fileSCInput = std::unique_ptr&lt;TFile&gt;(TFile::Open(inputHisto[0].<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>()));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          <span class="keywordflow">if</span> (fileSCInput-&gt;FindKey(inputHisto[1].data())) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            hisSCDensity.reset((TH3*)fileSCInput-&gt;Get(inputHisto[1].data()));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            hisSCDensity-&gt;SetDirectory(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (hisSCDensity.get() != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Providing initial space-charge density histogram: &quot;</span> &lt;&lt; hisSCDensity-&gt;GetName();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          mDigitizer.setUseSCDistortions(distortionType, hisSCDensity.get(), gridSize[0], gridSize[1], gridSize[2]);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;          <span class="keywordflow">if</span> (distortionType == SpaceCharge::SCDistortionType::SCDistortionsConstant) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Input space-charge density histogram or file not found!&quot;</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    mDigitizer.setContinuousReadout(!triggeredMode);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// setup the input chain for the hits</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    mSimChains.emplace_back(<span class="keyword">new</span> TChain(<span class="stringliteral">&quot;o2sim&quot;</span>));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// add the main (background) file</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    mSimChains.back()-&gt;AddFile(ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simFile&quot;</span>).c_str());</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// maybe add a particular signal file</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">auto</span> signalfilename = ic.<a class="code" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">options</a>().<a class="code" href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;simFileS&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (signalfilename.size() &gt; 0) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      mSimChains.emplace_back(<span class="keyword">new</span> TChain(<span class="stringliteral">&quot;o2sim&quot;</span>));</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      mSimChains.back()-&gt;AddFile(signalfilename.c_str());</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!gGeoManager) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="../../d0/d20/classo2_1_1base_1_1GeometryManager.html#a3eaac18e8a1b7386da066baf2c721568">o2::base::GeometryManager::loadGeometry</a>();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a5a0e56396c6bafdf944b1e9ccdc290bc">  175</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a5a0e56396c6bafdf944b1e9ccdc290bc">run</a>(<a class="code" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html">framework::ProcessingContext</a>&amp; pc)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> callcounter = 0;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    callcounter++;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Processing TPC digitization&quot;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">auto</span>&amp; cdb = <a class="code" href="../../da/d2d/classo2_1_1tpc_1_1CDBInterface.html#adc6da0244fe3daa54c7272e2b1b6470e">o2::tpc::CDBInterface::instance</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    cdb.setUseDefaults();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (!gSystem-&gt;AccessPathName(<span class="stringliteral">&quot;GainMap.root&quot;</span>)) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Using gain map from &#39;GainMap.root&#39;&quot;</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      cdb.setGainMapFromFile(<span class="stringliteral">&quot;GainMap.root&quot;</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// read collision context from input</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">auto</span> context = pc.<a class="code" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html#aee19ae5272d374b797a29a755ad6f2c1">inputs</a>().<a class="code" href="../../df/d24/classo2_1_1framework_1_1InputRecord.html#afc80fe90d5a0510317f9d5362235f010">get</a>&lt;<a class="code" href="../../d5/d74/classo2_1_1steer_1_1RunContext.html">o2::steer::RunContext</a>*&gt;(<span class="stringliteral">&quot;collisioncontext&quot;</span>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">auto</span>&amp; irecords = context-&gt;<a class="code" href="../../d5/d74/classo2_1_1steer_1_1RunContext.html#af579d5aa1ecb53be7aefc9b8358d034c">getEventRecords</a>();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Processing &quot;</span> &lt;&lt; irecords.size() &lt;&lt; <span class="stringliteral">&quot; collisions&quot;</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> (irecords.size() == 0) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">bool</span> isContinuous = mDigitizer.isContinuousReadout();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (mWriteGRP) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keyword">auto</span> roMode = isContinuous ? <a class="code" href="../../db/d74/classo2_1_1parameters_1_1GRPObject.html#a219a9895f3a49b62932772340aa4b20caef9fa4b4bc7a7ef4604dddf426a929a3">o2::parameters::GRPObject::CONTINUOUS</a> : <a class="code" href="../../db/d74/classo2_1_1parameters_1_1GRPObject.html#a219a9895f3a49b62932772340aa4b20ca616f504353eee4b7b41934b4ff16ea51">o2::parameters::GRPObject::PRESENT</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Sending ROMode= &quot;</span> &lt;&lt; (mDigitizer.isContinuousReadout() ? <span class="stringliteral">&quot;Continuous&quot;</span> : <span class="stringliteral">&quot;Triggered&quot;</span>)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; to GRPUpdater from channel &quot;</span> &lt;&lt; mChannel;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      pc.<a class="code" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html#acf17ebe3e8fd81cefc8babca3e6a9f70">outputs</a>().<a class="code" href="../../df/d82/classo2_1_1framework_1_1DataAllocator.html#a29d71d8c7c50ed05000fb041d879a3d9">snapshot</a>(<a class="code" href="../../d1/dc1/structo2_1_1framework_1_1Output.html">Output</a>{<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;ROMode&quot;</span>, 0, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>}, roMode);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      mWriteGRP = <span class="keyword">false</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// extract which sector to treat</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span>* sectorHeader = DataRefUtils::getHeader&lt;TPCSectorHeader*&gt;(pc.<a class="code" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html#aee19ae5272d374b797a29a755ad6f2c1">inputs</a>().<a class="code" href="../../df/d24/classo2_1_1framework_1_1InputRecord.html#afc80fe90d5a0510317f9d5362235f010">get</a>(<span class="stringliteral">&quot;collisioncontext&quot;</span>));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (sectorHeader == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;TPC: Sector header missing, skipping processing&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">auto</span> sector = sectorHeader-&gt;sector;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Processing sector &quot;</span> &lt;&lt; sector;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// the active sectors need to be propagated</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    uint64_t activeSectors = 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    activeSectors = sectorHeader-&gt;activeSectors;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// lambda that snapshots digits to be sent out; prepares and attaches header with sector information</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">auto</span> snapshotDigits = [<span class="keyword">this</span>, sector, &amp;pc, activeSectors](std::vector&lt;o2::tpc::Digit&gt; <span class="keyword">const</span>&amp; digits) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html">o2::tpc::TPCSectorHeader</a> header{sector};</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      header.<a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html#ab40dac0d35021d2eb12fa39724afb9ef">activeSectors</a> = activeSectors;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="comment">// note that snapshoting only works with non-const references (to be fixed?)</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      pc.outputs().snapshot(<a class="code" href="../../d1/dc1/structo2_1_1framework_1_1Output.html">Output</a>{<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGITS&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a><span class="keyword">&gt;</span>(mChannel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                   header},</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                            <span class="keyword">const_cast&lt;</span>std::vector&lt;o2::tpc::Digit&gt;&amp;<span class="keyword">&gt;</span>(digits));</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    };</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// lambda that snapshots the common mode vector to be sent out; prepares and attaches header with sector information</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">auto</span> snapshotCommonMode = [<span class="keyword">this</span>, sector, &amp;pc, activeSectors](std::vector&lt;o2::tpc::CommonMode&gt; <span class="keyword">const</span>&amp; commonMode) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html">o2::tpc::TPCSectorHeader</a> header{sector};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      header.<a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html#ab40dac0d35021d2eb12fa39724afb9ef">activeSectors</a> = activeSectors;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="comment">// note that snapshoting only works with non-const references (to be fixed?)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      pc.outputs().snapshot(<a class="code" href="../../d1/dc1/structo2_1_1framework_1_1Output.html">Output</a>{<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;COMMONMODE&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a><span class="keyword">&gt;</span>(mChannel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                   header},</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                            <span class="keyword">const_cast&lt;</span>std::vector&lt;o2::tpc::CommonMode&gt;&amp;<span class="keyword">&gt;</span>(commonMode));</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    };</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// lambda that snapshots labels to be sent out; prepares and attaches header with sector information</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">auto</span> snapshotLabels = [<span class="keyword">this</span>, &amp;sector, &amp;pc, activeSectors](<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt;o2::MCCompLabel&gt;</a> <span class="keyword">const</span>&amp; labels) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html">o2::tpc::TPCSectorHeader</a> header{sector};</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      header.<a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html#ab40dac0d35021d2eb12fa39724afb9ef">activeSectors</a> = activeSectors;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      pc.outputs().snapshot(<a class="code" href="../../d1/dc1/structo2_1_1framework_1_1Output.html">Output</a>{<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGITSMCTR&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a><span class="keyword">&gt;</span>(mChannel),</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                   <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>, header},</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                            <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt;o2::MCCompLabel&gt;</a>&amp;<span class="keyword">&gt;</span>(labels));</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    };</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// lambda that snapshots digits grouping (triggers) to be sent out; prepares and attaches header with sector information</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">auto</span> snapshotEvents = [<span class="keyword">this</span>, sector, &amp;pc, activeSectors](<span class="keyword">const</span> std::vector&lt;DigiGroupRef&gt;&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a8352807eeb9464a17e8461cc317a96f5">events</a>) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html">o2::tpc::TPCSectorHeader</a> header{sector};</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      header.<a class="code" href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html#ab40dac0d35021d2eb12fa39724afb9ef">activeSectors</a> = activeSectors;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Send TRIGGERS for sector &quot;</span> &lt;&lt; sector &lt;&lt; <span class="stringliteral">&quot; channel &quot;</span> &lt;&lt; mChannel &lt;&lt; <span class="stringliteral">&quot; | size &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a8352807eeb9464a17e8461cc317a96f5">events</a>.size();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      pc.outputs().snapshot(<a class="code" href="../../d1/dc1/structo2_1_1framework_1_1Output.html">Output</a>{<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGTRIGGERS&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a><span class="keyword">&gt;</span>(mChannel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                   header},</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                            <span class="keyword">const_cast&lt;</span>std::vector&lt;DigiGroupRef&gt;&amp;<span class="keyword">&gt;</span>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a8352807eeb9464a17e8461cc317a96f5">events</a>));</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    };</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    std::vector&lt;o2::tpc::Digit&gt; digitsAccum;                       <span class="comment">// accumulator for digits</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt;o2::MCCompLabel&gt;</a> labelAccum; <span class="comment">// timeframe accumulator for labels</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    std::vector&lt;CommonMode&gt; commonModeAccum;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    std::vector&lt;DigiGroupRef&gt; eventAccum;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// no more tasks can be marked with a negative sector</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (sector &lt; 0) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      digitsAccum.<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#afe8bc587090f857ee2d825751fa4af8f">clear</a>();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      labelAccum.<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#afe8bc587090f857ee2d825751fa4af8f">clear</a>();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      commonModeAccum.clear();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      std::vector&lt;DigiGroupRef&gt; evAccDummy;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      snapshotEvents(evAccDummy);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      snapshotDigits(digitsAccum);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      snapshotCommonMode(commonModeAccum);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      snapshotLabels(labelAccum);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    mDigitizer.setSector(sector);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    mDigitizer.init();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">auto</span>&amp; eventParts = context-&gt;getEventParts();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">auto</span> flushDigitsAndLabels = [<span class="keyword">this</span>, &amp;digitsAccum, &amp;labelAccum, &amp;commonModeAccum](<span class="keywordtype">bool</span> finalFlush = <span class="keyword">false</span>) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="comment">// flush previous buffer</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      mDigits.clear();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      mLabels.clear();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      mCommonMode.clear();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      mDigitizer.flush(mDigits, mLabels, mCommonMode, finalFlush);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Flushed &quot;</span> &lt;&lt; mDigits.size() &lt;&lt; <span class="stringliteral">&quot; digits, &quot;</span> &lt;&lt; mLabels.getNElements() &lt;&lt; <span class="stringliteral">&quot; labels and &quot;</span> &lt;&lt; mCommonMode.size() &lt;&lt; <span class="stringliteral">&quot; common mode entries&quot;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      std::copy(mDigits.begin(), mDigits.end(), std::back_inserter(digitsAccum));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      labelAccum.mergeAtBack(mLabels);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      std::copy(mCommonMode.begin(), mCommonMode.end(), std::back_inserter(commonModeAccum));</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    };</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../d4/dec/classo2_1_1tpc_1_1SAMPAProcessing.html">SAMPAProcessing</a>&amp; sampaProcessing = SAMPAProcessing::instance();</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    mDigitizer.setStartTime(sampaProcessing.<a class="code" href="../../d4/dec/classo2_1_1tpc_1_1SAMPAProcessing.html#ad3faaa9e7633716221c9a7c01fbfce01">getTimeBinFromTime</a>(irecords[0].timeNS / 1000.f));</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    TStopwatch timer;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    timer.Start();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// loop over all composite collisions given from context</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// (aka loop over all the interaction records)</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> collID = 0; collID &lt; irecords.size(); ++collID) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> eventTime = irecords[collID].timeNS / 1000.f;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Event time &quot;</span> &lt;&lt; eventTime &lt;&lt; <span class="stringliteral">&quot; us&quot;</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      mDigitizer.setEventTime(eventTime);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">if</span> (!isContinuous) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        mDigitizer.setStartTime(sampaProcessing.<a class="code" href="../../d4/dec/classo2_1_1tpc_1_1SAMPAProcessing.html#ad3faaa9e7633716221c9a7c01fbfce01">getTimeBinFromTime</a>(eventTime));</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordtype">int</span> startSize = digitsAccum.size();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="comment">// for each collision, loop over the constituents event and source IDs</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="comment">// (background signal merging is basically taking place here)</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; part : eventParts[collID]) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> eventID = part.entryID;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> sourceID = part.sourceID;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">// get the hits for this event and this source</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        std::vector&lt;o2::tpc::HitGroup&gt; hitsLeft;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        std::vector&lt;o2::tpc::HitGroup&gt; hitsRight;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a1d3ff0533890f03f146d04059dc2d11f">retrieveHits</a>(mSimChains, <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a6683b3d744b4b8fff0b7c8c75259b615">getBranchNameLeft</a>(sector).c_str(), part.sourceID, part.entryID, &amp;hitsLeft);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a1d3ff0533890f03f146d04059dc2d11f">retrieveHits</a>(mSimChains, <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#ae5d048143e23fdcbaa10d950595b6f84">getBranchNameRight</a>(sector).c_str(), part.sourceID, part.entryID, &amp;hitsRight);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;TPC: Found &quot;</span> &lt;&lt; hitsLeft.size() &lt;&lt; <span class="stringliteral">&quot; hit groups left and &quot;</span> &lt;&lt; hitsRight.size() &lt;&lt; <span class="stringliteral">&quot; hit groups right in collision &quot;</span> &lt;&lt; collID &lt;&lt; <span class="stringliteral">&quot; eventID &quot;</span> &lt;&lt; part.entryID;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        mDigitizer.process(hitsLeft, eventID, sourceID);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        mDigitizer.process(hitsRight, eventID, sourceID);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        flushDigitsAndLabels();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span> (!isContinuous) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          eventAccum.emplace_back(startSize, digitsAccum.size() - startSize);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// final flushing step; getting everything not yet written out</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (isContinuous) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Final flush&quot;</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      flushDigitsAndLabels(<span class="keyword">true</span>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      eventAccum.emplace_back(0, digitsAccum.size()); <span class="comment">// all digits are grouped to 1 super-event pseudo-triggered mode</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// send out to next stage</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    snapshotEvents(eventAccum);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    snapshotDigits(digitsAccum);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    snapshotCommonMode(commonModeAccum);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    snapshotLabels(labelAccum);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    timer.Stop();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Digitization took &quot;</span> &lt;&lt; timer.CpuTime() &lt;&lt; <span class="stringliteral">&quot;s&quot;</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="../../d2/dc2/classo2_1_1tpc_1_1Digitizer.html">o2::tpc::Digitizer</a> mDigitizer;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  std::vector&lt;TChain*&gt; mSimChains;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  std::vector&lt;o2::tpc::Digit&gt; mDigits;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt;o2::MCCompLabel&gt;</a> mLabels;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  std::vector&lt;o2::tpc::CommonMode&gt; mCommonMode;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordtype">bool</span> mWriteGRP;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordtype">int</span> mChannel;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;};</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="../../d0/d0a/namespaceo2_1_1tpc.html#a185bf75325be1351e37fd5494f035b45">  360</a></span>&#160;<a class="code" href="../../d0/d16/structo2_1_1framework_1_1DataProcessorSpec.html">o2::framework::DataProcessorSpec</a> <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a185bf75325be1351e37fd5494f035b45">getTPCDigitizerSpec</a>(<span class="keywordtype">int</span> channel, <span class="keywordtype">bool</span> writeGRP)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// create the full data processor spec using</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">//  a name identifier</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">//  input description</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">//  algorithmic description (here a lambda getting called once to setup the actual processing function)</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">//  options that can be used for this processor (here: input file names where to take the hits)</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  std::stringstream <a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;TPCDigitizer&quot;</span> &lt;&lt; channel;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  std::vector&lt;OutputSpec&gt; outputs; <span class="comment">// define channel by triple of (origin, type id of data to be sent on this channel, subspecification)</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  outputs.emplace_back(<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGITS&quot;</span>, static_cast&lt;SubSpecificationType&gt;(channel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  outputs.emplace_back(<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGTRIGGERS&quot;</span>, static_cast&lt;SubSpecificationType&gt;(channel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  outputs.emplace_back(<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;DIGITSMCTR&quot;</span>, static_cast&lt;SubSpecificationType&gt;(channel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  outputs.emplace_back(<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;COMMONMODE&quot;</span>, static_cast&lt;SubSpecificationType&gt;(channel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (writeGRP) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    outputs.emplace_back(<span class="stringliteral">&quot;TPC&quot;</span>, <span class="stringliteral">&quot;ROMode&quot;</span>, 0, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;TPC: Channel &quot;</span> &lt;&lt; channel &lt;&lt; <span class="stringliteral">&quot; will supply ROMode&quot;</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/d16/structo2_1_1framework_1_1DataProcessorSpec.html">DataProcessorSpec</a>{</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">id</span>.str().c_str(),</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ae0fa8f5b8c413d923205bbe985f08602">Inputs</a>{<a class="code" href="../../da/d96/structo2_1_1framework_1_1InputSpec.html">InputSpec</a>{<span class="stringliteral">&quot;collisioncontext&quot;</span>, <span class="stringliteral">&quot;SIM&quot;</span>, <span class="stringliteral">&quot;COLLISIONCONTEXT&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code" href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a><span class="keyword">&gt;</span>(channel), <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">Lifetime::Timeframe</a>}},</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    outputs,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="../../d4/d5e/structo2_1_1framework_1_1AlgorithmSpec.html">AlgorithmSpec</a>{adaptFromTask&lt;TPCDPLDigitizerTask&gt;(channel, writeGRP)},</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#acda743ee0581ee4ad2f506fffe2cfc08">Options</a>{{<span class="stringliteral">&quot;simFile&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">VariantType::String</a>, <span class="stringliteral">&quot;o2sim.root&quot;</span>, {<span class="stringliteral">&quot;Sim (background) input filename&quot;</span>}},</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            {<span class="stringliteral">&quot;simFileS&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">VariantType::String</a>, <span class="stringliteral">&quot;&quot;</span>, {<span class="stringliteral">&quot;Sim (signal) input filename&quot;</span>}},</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            {<span class="stringliteral">&quot;distortionType&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca1686a6c336b71b36d77354cea19a8b52">VariantType::Int</a>, 0, {<span class="stringliteral">&quot;Distortion type to be used. 0 = no distortions (default), 1 = realistic distortions (not implemented yet), 2 = constant distortions&quot;</span>}},</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            {<span class="stringliteral">&quot;gridSize&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">VariantType::String</a>, <span class="stringliteral">&quot;129,144,129&quot;</span>, {<span class="stringliteral">&quot;Comma separated list of number of bins in (r,phi,z) for distortion lookup tables (r and z can only be 2**N + 1, N=1,2,3,...)&quot;</span>}},</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            {<span class="stringliteral">&quot;initialSpaceChargeDensity&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">VariantType::String</a>, <span class="stringliteral">&quot;&quot;</span>, {<span class="stringliteral">&quot;Path to root file containing TH3 with initial space-charge density and name of the TH3 (comma separated)&quot;</span>}},</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {<span class="stringliteral">&quot;readSpaceCharge&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">VariantType::String</a>, <span class="stringliteral">&quot;&quot;</span>, {<span class="stringliteral">&quot;Path to root file containing pre-calculated space-charge object and name of the object (comma separated)&quot;</span>}},</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            {<span class="stringliteral">&quot;TPCtriggered&quot;</span>, <a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75cac26f15e86e3de4c398a8273272aba034">VariantType::Bool</a>, <span class="keyword">false</span>, {<span class="stringliteral">&quot;Impose triggered RO mode (default: continuous)&quot;</span>}}}};</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;} <span class="comment">// end namespace tpc</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;} <span class="comment">// end namespace o2</span></div><div class="ttc" id="classo2_1_1tpc_1_1SpaceCharge_html_afa9adc2ad751f215a9f74eb53df40aa7a0c0eb000e9bb546664a1fe33ea9e0c27"><div class="ttname"><a href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7a0c0eb000e9bb546664a1fe33ea9e0c27">o2::tpc::SpaceCharge::SCDistortionType::SCDistortionsConstant</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html_afe8bc587090f857ee2d825751fa4af8f"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#afe8bc587090f857ee2d825751fa4af8f">o2::dataformats::MCTruthContainer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d14/MCTruthContainer_8h_source.html#l00157">MCTruthContainer.h:157</a></div></div>
<div class="ttc" id="TPC_2simulation_2include_2TPCSimulation_2Digitizer_8h_html"><div class="ttname"><a href="../../de/d92/TPC_2simulation_2include_2TPCSimulation_2Digitizer_8h.html">Digitizer.h</a></div></div>
<div class="ttc" id="classo2_1_1parameters_1_1GRPObject_html_a219a9895f3a49b62932772340aa4b20caef9fa4b4bc7a7ef4604dddf426a929a3"><div class="ttname"><a href="../../db/d74/classo2_1_1parameters_1_1GRPObject.html#a219a9895f3a49b62932772340aa4b20caef9fa4b4bc7a7ef4604dddf426a929a3">o2::parameters::GRPObject::CONTINUOUS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d28/GRPObject_8h_source.html#l00043">GRPObject.h:43</a></div></div>
<div class="ttc" id="namespaceo2_html"><div class="ttname"><a href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="ttdoc">a couple of static helper functions to create timestamp values for CCDB queries </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d24/BitstreamReader_8h_source.html#l00022">BitstreamReader.h:22</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca27118326006d3829667a400ad23d5d98">o2::framework::VariantType::String</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Sector_html_a7e0036fd8490232f681345e0fcde543f"><div class="ttname"><a href="../../d0/d0c/classo2_1_1tpc_1_1Sector.html#a7e0036fd8490232f681345e0fcde543f">o2::tpc::Sector::getLeft</a></div><div class="ttdeci">static Sector getLeft(const Sector s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd6/Sector_8h_source.html#l00144">Sector.h:144</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00025">GPUCommonLogger.h:25</a></div></div>
<div class="ttc" id="DataHeader_8h_html"><div class="ttname"><a href="../../dc/dcd/DataHeader_8h.html">DataHeader.h</a></div></div>
<div class="ttc" id="Lifetime_8h_html"><div class="ttname"><a href="../../dc/dca/Lifetime_8h.html">Lifetime.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Digitizer_html"><div class="ttname"><a href="../../d2/dc2/classo2_1_1tpc_1_1Digitizer.html">o2::tpc::Digitizer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d92/TPC_2simulation_2include_2TPCSimulation_2Digitizer_8h_source.html#l00052">Digitizer.h:52</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_ab8ee446f2ea693c249ce60995d55f75ca1686a6c336b71b36d77354cea19a8b52"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75ca1686a6c336b71b36d77354cea19a8b52">o2::framework::VariantType::Int</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SpaceCharge_html_afa9adc2ad751f215a9f74eb53df40aa7afb50c73ec5e9bbfc5a5c6543840b8d0d"><div class="ttname"><a href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7afb50c73ec5e9bbfc5a5c6543840b8d0d">o2::tpc::SpaceCharge::SCDistortionType::SCDistortionsRealistic</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html_a185bf75325be1351e37fd5494f035b45"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html#a185bf75325be1351e37fd5494f035b45">o2::tpc::getTPCDigitizerSpec</a></div><div class="ttdeci">o2::framework::DataProcessorSpec getTPCDigitizerSpec(int channel, bool writeGRP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00360">TPCDigitizerSpec.cxx:360</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1ProcessingContext_html_aee19ae5272d374b797a29a755ad6f2c1"><div class="ttname"><a href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html#aee19ae5272d374b797a29a755ad6f2c1">o2::framework::ProcessingContext::inputs</a></div><div class="ttdeci">InputRecord &amp; inputs()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6a/ProcessingContext_8h_source.html#l00033">ProcessingContext.h:33</a></div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="TOFDigitWriterSpec_8cxx_html_a095e125633df904f8ae5d281543c3f56"><div class="ttname"><a href="../../d1/d80/TOFDigitWriterSpec_8cxx.html#a095e125633df904f8ae5d281543c3f56">SubSpecificationType</a></div><div class="ttdeci">o2::framework::DataAllocator::SubSpecificationType SubSpecificationType</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/TOFDigitWriterSpec_8cxx_source.html#l00027">TOFDigitWriterSpec.cxx:27</a></div></div>
<div class="ttc" id="TPC_2simulation_2include_2TPCSimulation_2Detector_8h_html"><div class="ttname"><a href="../../da/d96/TPC_2simulation_2include_2TPCSimulation_2Detector_8h.html">Detector.h</a></div></div>
<div class="ttc" id="structo2_1_1framework_1_1DataProcessorSpec_html"><div class="ttname"><a href="../../d0/d16/structo2_1_1framework_1_1DataProcessorSpec.html">o2::framework::DataProcessorSpec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/DataProcessorSpec_8h_source.html#l00033">DataProcessorSpec.h:33</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1InitContext_html_a53b0eb564dc476a5804213809a3dee4c"><div class="ttname"><a href="../../d4/d07/classo2_1_1framework_1_1InitContext.html#a53b0eb564dc476a5804213809a3dee4c">o2::framework::InitContext::options</a></div><div class="ttdeci">ConfigParamRegistry const  &amp; options()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2b/InitContext_8h_source.html#l00030">InitContext.h:30</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1GeometryManager_html_a3eaac18e8a1b7386da066baf2c721568"><div class="ttname"><a href="../../d0/d20/classo2_1_1base_1_1GeometryManager.html#a3eaac18e8a1b7386da066baf2c721568">o2::base::GeometryManager::loadGeometry</a></div><div class="ttdeci">static void loadGeometry(std::string geomFileName=&quot;O2geometry.root&quot;, std::string geomName=&quot;FAIRGeom&quot;)</div><div class="ttdoc">&lt; load geometry from file </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d93/Detectors_2Base_2src_2GeometryManager_8cxx_source.html#l00444">GeometryManager.cxx:444</a></div></div>
<div class="ttc" id="Detectors_2Base_2include_2DetectorsBase_2GeometryManager_8h_html"><div class="ttname"><a href="../../db/dcc/Detectors_2Base_2include_2DetectorsBase_2GeometryManager_8h.html">GeometryManager.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1TPCDPLDigitizerTask_html_a0d7b0a728c50913f6530517b87ae1763"><div class="ttname"><a href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a0d7b0a728c50913f6530517b87ae1763">o2::tpc::TPCDPLDigitizerTask::TPCDPLDigitizerTask</a></div><div class="ttdeci">TPCDPLDigitizerTask(int channel, bool writeGRP)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00078">TPCDigitizerSpec.cxx:78</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html">o2::framework</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d62/DataFormats_2Detectors_2ITSMFT_2common_2include_2DataFormatsITSMFT_2Cluster_8h_source.html#l00198">Cluster.h:198</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_acda743ee0581ee4ad2f506fffe2cfc08"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#acda743ee0581ee4ad2f506fffe2cfc08">o2::framework::Options</a></div><div class="ttdeci">std::vector&lt; ConfigParamSpec &gt; Options</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/DataProcessorSpec_8h_source.html#l00028">DataProcessorSpec.h:28</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_ae0fa8f5b8c413d923205bbe985f08602"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#ae0fa8f5b8c413d923205bbe985f08602">o2::framework::Inputs</a></div><div class="ttdeci">std::vector&lt; InputSpec &gt; Inputs</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/DataProcessorSpec_8h_source.html#l00026">DataProcessorSpec.h:26</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ae52362b10d585638f5b96140e90f1b7a"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a></div><div class="ttdeci">GLuint id</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00650">glcorearb.h:650</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1TPCDPLDigitizerTask_html_a14136aacb47f7ac3a31386b6c4636cce"><div class="ttname"><a href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a14136aacb47f7ac3a31386b6c4636cce">o2::tpc::TPCDPLDigitizerTask::init</a></div><div class="ttdeci">void init(framework::InitContext &amp;ic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00084">TPCDigitizerSpec.cxx:84</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1InputRecord_html_afc80fe90d5a0510317f9d5362235f010"><div class="ttname"><a href="../../df/d24/classo2_1_1framework_1_1InputRecord.html#afc80fe90d5a0510317f9d5362235f010">o2::framework::InputRecord::get</a></div><div class="ttdeci">decltype(auto) get(char const *binding) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5c/InputRecord_8h_source.html#l00186">InputRecord.h:186</a></div></div>
<div class="ttc" id="RangeReference_8h_html"><div class="ttname"><a href="../../de/d64/RangeReference_8h.html">RangeReference.h</a></div><div class="ttdoc">Class to refer to the 1st entry and N elements of some group in the continuous container. </div></div>
<div class="ttc" id="structo2_1_1framework_1_1AlgorithmSpec_html"><div class="ttname"><a href="../../d4/d5e/structo2_1_1framework_1_1AlgorithmSpec.html">o2::framework::AlgorithmSpec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d14/AlgorithmSpec_8h_source.html#l00044">AlgorithmSpec.h:44</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1TPCDPLDigitizerTask_html_a5a0e56396c6bafdf944b1e9ccdc290bc"><div class="ttname"><a href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html#a5a0e56396c6bafdf944b1e9ccdc290bc">o2::tpc::TPCDPLDigitizerTask::run</a></div><div class="ttdeci">void run(framework::ProcessingContext &amp;pc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00175">TPCDigitizerSpec.cxx:175</a></div></div>
<div class="ttc" id="DataRefUtils_8h_html"><div class="ttname"><a href="../../d5/db8/DataRefUtils_8h.html">DataRefUtils.h</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1ProcessingContext_html"><div class="ttname"><a href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html">o2::framework::ProcessingContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6a/ProcessingContext_8h_source.html#l00023">ProcessingContext.h:23</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a2779e279debfae608c7e004d334f4f22"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a2779e279debfae608c7e004d334f4f22">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html_a6683b3d744b4b8fff0b7c8c75259b615"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html#a6683b3d744b4b8fff0b7c8c75259b615">o2::tpc::getBranchNameLeft</a></div><div class="ttdeci">std::string getBranchNameLeft(int sector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00061">TPCDigitizerSpec.cxx:61</a></div></div>
<div class="ttc" id="Detectors_2TPC_2base_2include_2TPCBase_2Digit_8h_html"><div class="ttname"><a href="../../d0/d4f/Detectors_2TPC_2base_2include_2TPCBase_2Digit_8h.html">Digit.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SpaceCharge_html"><div class="ttname"><a href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html">o2::tpc::SpaceCharge</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db6/SpaceCharge_8h_source.html#l00051">SpaceCharge.h:51</a></div></div>
<div class="ttc" id="TPCDigitizerSpec_8h_html"><div class="ttname"><a href="../../d7/db0/TPCDigitizerSpec_8h.html">TPCDigitizerSpec.h</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1InitContext_html"><div class="ttname"><a href="../../d4/d07/classo2_1_1framework_1_1InitContext.html">o2::framework::InitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2b/InitContext_8h_source.html#l00021">InitContext.h:21</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#a6efce2a67e1fcd2dcb80c33d8c287239ae1a49a5ea702f54021c844b78139837d">o2::framework::Lifetime::Timeframe</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1ConfigParamRegistry_html_ae86d66faf0b5cdc42a725d722be54d5e"><div class="ttname"><a href="../../df/d6f/classo2_1_1framework_1_1ConfigParamRegistry.html#ae86d66faf0b5cdc42a725d722be54d5e">o2::framework::ConfigParamRegistry::get</a></div><div class="ttdeci">T get(const char *key) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc6/ConfigParamRegistry_8h_source.html#l00042">ConfigParamRegistry.h:42</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt;</a></div></div>
<div class="ttc" id="ConfigParamRegistry_8h_html"><div class="ttname"><a href="../../de/dc6/ConfigParamRegistry_8h.html">ConfigParamRegistry.h</a></div></div>
<div class="ttc" id="structo2_1_1framework_1_1Output_html"><div class="ttname"><a href="../../d1/dc1/structo2_1_1framework_1_1Output.html">o2::framework::Output</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/ddf/Output_8h_source.html#l00028">Output.h:28</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SAMPAProcessing_html_ad3faaa9e7633716221c9a7c01fbfce01"><div class="ttname"><a href="../../d4/dec/classo2_1_1tpc_1_1SAMPAProcessing.html#ad3faaa9e7633716221c9a7c01fbfce01">o2::tpc::SAMPAProcessing::getTimeBinFromTime</a></div><div class="ttdeci">TimeBin getTimeBinFromTime(float time) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d45/SAMPAProcessing_8h_source.html#l00222">SAMPAProcessing.h:222</a></div></div>
<div class="ttc" id="ControlService_8h_html"><div class="ttname"><a href="../../d2/d43/ControlService_8h.html">ControlService.h</a></div></div>
<div class="ttc" id="MCCompLabel_8h_html"><div class="ttname"><a href="../../d7/dcd/MCCompLabel_8h.html">MCCompLabel.h</a></div></div>
<div class="ttc" id="SAMPAProcessing_8h_html"><div class="ttname"><a href="../../d0/d45/SAMPAProcessing_8h.html">SAMPAProcessing.h</a></div><div class="ttdoc">Definition of the SAMPA response. </div></div>
<div class="ttc" id="classo2_1_1framework_1_1DataAllocator_html_a3fb0829704eb7ab36d02de3758893b1d"><div class="ttname"><a href="../../df/d82/classo2_1_1framework_1_1DataAllocator.html#a3fb0829704eb7ab36d02de3758893b1d">o2::framework::DataAllocator::SubSpecificationType</a></div><div class="ttdeci">o2::header::DataHeader::SubSpecificationType SubSpecificationType</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d28/DataAllocator_8h_source.html#l00089">DataAllocator.h:89</a></div></div>
<div class="ttc" id="HitProcessingManager_8h_html"><div class="ttname"><a href="../../dd/d40/HitProcessingManager_8h.html">HitProcessingManager.h</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a8352807eeb9464a17e8461cc317a96f5"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a8352807eeb9464a17e8461cc317a96f5">events</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char Store histograms in output root Do not run but just create PDFs from input root files Set cut for Q Compute the efficiency including impure tracks with fake contamination Maxmimum Create resolution histograms in the native fit Filter for Filter for Particle Store mc labels to file for later matching Minimum Pt of a matched track to be displayed Compare QA QAonly Event generator settings h Reconstruction settings Enable TRD processing Enable TPC Compression Mask to disable certain attachment steps during refit Pt threshold to reject clusters of TPC tracks Sort order of TPC Force early TPC transformation also for continuous Forward TPC digits as h Processing settings Run tracklet constructor in pipeline Bitmask for RecoSteps h configStandalone Use CPU for const char GPU Force usage of the specified GPU device no CPU fallback Allow only GPU as OpenCL device Do prompt for keypress before Continue processing after an error Use device timers instead of host based time measurement Clear debug output file when processing next event First event to Number of events to Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char events</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00128">qconfigoptions.h:128</a></div></div>
<div class="ttc" id="Task_8h_html"><div class="ttname"><a href="../../df/d4f/Task_8h.html">Task.h</a></div></div>
<div class="ttc" id="MCTruthContainer_8h_html"><div class="ttname"><a href="../../db/d14/MCTruthContainer_8h.html">MCTruthContainer.h</a></div><div class="ttdoc">Definition of a container to keep Monte Carlo truth external to simulation objects. </div></div>
<div class="ttc" id="GRPObject_8h_html"><div class="ttname"><a href="../../de/d28/GRPObject_8h.html">GRPObject.h</a></div><div class="ttdoc">Header of the General Run Parameters object. </div></div>
<div class="ttc" id="classo2_1_1parameters_1_1GRPObject_html_a219a9895f3a49b62932772340aa4b20ca616f504353eee4b7b41934b4ff16ea51"><div class="ttname"><a href="../../db/d74/classo2_1_1parameters_1_1GRPObject.html#a219a9895f3a49b62932772340aa4b20ca616f504353eee4b7b41934b4ff16ea51">o2::parameters::GRPObject::PRESENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d28/GRPObject_8h_source.html#l00042">GRPObject.h:42</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_ab8ee446f2ea693c249ce60995d55f75cac26f15e86e3de4c398a8273272aba034"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#ab8ee446f2ea693c249ce60995d55f75cac26f15e86e3de4c398a8273272aba034">o2::framework::VariantType::Bool</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SpaceCharge_html_afa9adc2ad751f215a9f74eb53df40aa7"><div class="ttname"><a href="../../df/dc5/classo2_1_1tpc_1_1SpaceCharge.html#afa9adc2ad751f215a9f74eb53df40aa7">o2::tpc::SpaceCharge::SCDistortionType</a></div><div class="ttdeci">SCDistortionType</div><div class="ttdoc">Enumerator for setting the space-charge distortion mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db6/SpaceCharge_8h_source.html#l00055">SpaceCharge.h:55</a></div></div>
<div class="ttc" id="TPCSectorHeader_8h_html"><div class="ttname"><a href="../../d3/d09/TPCSectorHeader_8h.html">TPCSectorHeader.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1TPCDPLDigitizerTask_html"><div class="ttname"><a href="../../dc/d44/classo2_1_1tpc_1_1TPCDPLDigitizerTask.html">o2::tpc::TPCDPLDigitizerTask</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00075">TPCDigitizerSpec.cxx:75</a></div></div>
<div class="ttc" id="TPCDigitizerSpec_8cxx_html_a1d3ff0533890f03f146d04059dc2d11f"><div class="ttname"><a href="../../d2/d0b/TPCDigitizerSpec_8cxx.html#a1d3ff0533890f03f146d04059dc2d11f">retrieveHits</a></div><div class="ttdeci">void retrieveHits(std::vector&lt; TChain *&gt; const &amp;chains, const char *brname, int sourceID, int entryID, std::vector&lt; T &gt; *hits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00041">TPCDigitizerSpec.cxx:41</a></div></div>
<div class="ttc" id="structo2_1_1framework_1_1InputSpec_html"><div class="ttname"><a href="../../da/d96/structo2_1_1framework_1_1InputSpec.html">o2::framework::InputSpec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3f/InputSpec_8h_source.html#l00029">InputSpec.h:29</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8922a680b00df660c57f47c1971d04c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a></div><div class="ttdeci">GLboolean * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00298">glcorearb.h:298</a></div></div>
<div class="ttc" id="DataProcessorSpec_8h_html"><div class="ttname"><a href="../../d0/df4/DataProcessorSpec_8h.html">DataProcessorSpec.h</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCSectorHeader_html_ab40dac0d35021d2eb12fa39724afb9ef"><div class="ttname"><a href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html#ab40dac0d35021d2eb12fa39724afb9ef">o2::tpc::TPCSectorHeader::activeSectors</a></div><div class="ttdeci">uint64_t activeSectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/TPCSectorHeader_8h_source.html#l00039">TPCSectorHeader.h:39</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1ProcessingContext_html_acf17ebe3e8fd81cefc8babca3e6a9f70"><div class="ttname"><a href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html#acf17ebe3e8fd81cefc8babca3e6a9f70">o2::framework::ProcessingContext::outputs</a></div><div class="ttdeci">DataAllocator &amp; outputs()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6a/ProcessingContext_8h_source.html#l00035">ProcessingContext.h:35</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCSectorHeader_html"><div class="ttname"><a href="../../d4/da3/structo2_1_1tpc_1_1TPCSectorHeader.html">o2::tpc::TPCSectorHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/TPCSectorHeader_8h_source.html#l00024">TPCSectorHeader.h:24</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SAMPAProcessing_html"><div class="ttname"><a href="../../d4/dec/classo2_1_1tpc_1_1SAMPAProcessing.html">o2::tpc::SAMPAProcessing</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d45/SAMPAProcessing_8h_source.html#l00039">SAMPAProcessing.h:39</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html_ae5d048143e23fdcbaa10d950595b6f84"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html#ae5d048143e23fdcbaa10d950595b6f84">o2::tpc::getBranchNameRight</a></div><div class="ttdeci">std::string getBranchNameRight(int sector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TPCDigitizerSpec_8cxx_source.html#l00068">TPCDigitizerSpec.cxx:68</a></div></div>
<div class="ttc" id="CDBInterface_8h_html"><div class="ttname"><a href="../../dc/df2/CDBInterface_8h.html">CDBInterface.h</a></div><div class="ttdoc">Simple interface to the CDB manager. </div></div>
<div class="ttc" id="classo2_1_1tpc_1_1CDBInterface_html_adc6da0244fe3daa54c7272e2b1b6470e"><div class="ttname"><a href="../../da/d2d/classo2_1_1tpc_1_1CDBInterface.html#adc6da0244fe3daa54c7272e2b1b6470e">o2::tpc::CDBInterface::instance</a></div><div class="ttdeci">static CDBInterface &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/CDBInterface_8h_source.html#l00052">CDBInterface.h:52</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Sector_html"><div class="ttname"><a href="../../d0/d0c/classo2_1_1tpc_1_1Sector.html">o2::tpc::Sector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd6/Sector_8h_source.html#l00039">Sector.h:39</a></div></div>
<div class="ttc" id="classo2_1_1steer_1_1RunContext_html"><div class="ttname"><a href="../../d5/d74/classo2_1_1steer_1_1RunContext.html">o2::steer::RunContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3f/RunContext_8h_source.html#l00039">RunContext.h:39</a></div></div>
<div class="ttc" id="classo2_1_1framework_1_1DataAllocator_html_a29d71d8c7c50ed05000fb041d879a3d9"><div class="ttname"><a href="../../df/d82/classo2_1_1framework_1_1DataAllocator.html#a29d71d8c7c50ed05000fb041d879a3d9">o2::framework::DataAllocator::snapshot</a></div><div class="ttdeci">void snapshot(const Output &amp;spec, T const &amp;object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d28/DataAllocator_8h_source.html#l00247">DataAllocator.h:247</a></div></div>
<div class="ttc" id="classo2_1_1steer_1_1RunContext_html_af579d5aa1ecb53be7aefc9b8358d034c"><div class="ttname"><a href="../../d5/d74/classo2_1_1steer_1_1RunContext.html#af579d5aa1ecb53be7aefc9b8358d034c">o2::steer::RunContext::getEventRecords</a></div><div class="ttdeci">std::vector&lt; o2::InteractionTimeRecord &gt; &amp; getEventRecords()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3f/RunContext_8h_source.html#l00050">RunContext.h:50</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1RangeReference_html"><div class="ttname"><a href="../../d7/dc7/classo2_1_1dataformats_1_1RangeReference.html">o2::dataformats::RangeReference&lt; int, int &gt;</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_40b4a122691869ee86baf7f2711ed718.html">Steer</a></li><li class="navelem"><a class="el" href="../../dir_a195a20aec66d1e163ba7321e47c9d6e.html">DigitizerWorkflow</a></li><li class="navelem"><a class="el" href="../../dir_86a20ab9c6baa8064a451e42ec4f4dc0.html">src</a></li><li class="navelem"><a class="el" href="../../d2/d0b/TPCDigitizerSpec_8cxx.html">TPCDigitizerSpec.cxx</a></li>
    <li class="footer">Generated on Wed Feb 19 2020 20:08:28 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
